WARNING:tensorflow:From F:\code_ICCVW2019\codes\blockencoder_LD2\reader.py:48: string_input_producer (from tensorflow.python.training.input) is deprecated and will be removed in a future version.
Instructions for updating:
Queue-based input pipelines have been replaced by `tf.data`. Use `tf.data.Dataset.from_tensor_slices(string_tensor).shuffle(tf.shape(input_tensor, out_type=tf.int64)[0]).repeat(num_epochs)`. If `shuffle=False`, omit the `.shuffle(...)`.
WARNING:tensorflow:From F:\code_ICCVW2019\codes\blockencoder_LD2\reader.py:48: string_input_producer (from tensorflow.python.training.input) is deprecated and will be removed in a future version.
Instructions for updating:
Queue-based input pipelines have been replaced by `tf.data`. Use `tf.data.Dataset.from_tensor_slices(string_tensor).shuffle(tf.shape(input_tensor, out_type=tf.int64)[0]).repeat(num_epochs)`. If `shuffle=False`, omit the `.shuffle(...)`.
WARNING:tensorflow:From C:\Users\Umberto\AppData\Local\conda\conda\envs\tensorflow\lib\site-packages\tensorflow\python\training\input.py:276: input_producer (from tensorflow.python.training.input) is deprecated and will be removed in a future version.
Instructions for updating:
Queue-based input pipelines have been replaced by `tf.data`. Use `tf.data.Dataset.from_tensor_slices(input_tensor).shuffle(tf.shape(input_tensor, out_type=tf.int64)[0]).repeat(num_epochs)`. If `shuffle=False`, omit the `.shuffle(...)`.
WARNING:tensorflow:From C:\Users\Umberto\AppData\Local\conda\conda\envs\tensorflow\lib\site-packages\tensorflow\python\training\input.py:276: input_producer (from tensorflow.python.training.input) is deprecated and will be removed in a future version.
Instructions for updating:
Queue-based input pipelines have been replaced by `tf.data`. Use `tf.data.Dataset.from_tensor_slices(input_tensor).shuffle(tf.shape(input_tensor, out_type=tf.int64)[0]).repeat(num_epochs)`. If `shuffle=False`, omit the `.shuffle(...)`.
WARNING:tensorflow:From C:\Users\Umberto\AppData\Local\conda\conda\envs\tensorflow\lib\site-packages\tensorflow\python\training\input.py:188: limit_epochs (from tensorflow.python.training.input) is deprecated and will be removed in a future version.
Instructions for updating:
Queue-based input pipelines have been replaced by `tf.data`. Use `tf.data.Dataset.from_tensors(tensor).repeat(num_epochs)`.
WARNING:tensorflow:From C:\Users\Umberto\AppData\Local\conda\conda\envs\tensorflow\lib\site-packages\tensorflow\python\training\input.py:188: limit_epochs (from tensorflow.python.training.input) is deprecated and will be removed in a future version.
Instructions for updating:
Queue-based input pipelines have been replaced by `tf.data`. Use `tf.data.Dataset.from_tensors(tensor).repeat(num_epochs)`.
WARNING:tensorflow:From C:\Users\Umberto\AppData\Local\conda\conda\envs\tensorflow\lib\site-packages\tensorflow\python\training\input.py:197: QueueRunner.__init__ (from tensorflow.python.training.queue_runner_impl) is deprecated and will be removed in a future version.
Instructions for updating:
To construct input pipelines, use the `tf.data` module.
WARNING:tensorflow:From C:\Users\Umberto\AppData\Local\conda\conda\envs\tensorflow\lib\site-packages\tensorflow\python\training\input.py:197: QueueRunner.__init__ (from tensorflow.python.training.queue_runner_impl) is deprecated and will be removed in a future version.
Instructions for updating:
To construct input pipelines, use the `tf.data` module.
WARNING:tensorflow:From C:\Users\Umberto\AppData\Local\conda\conda\envs\tensorflow\lib\site-packages\tensorflow\python\training\input.py:197: add_queue_runner (from tensorflow.python.training.queue_runner_impl) is deprecated and will be removed in a future version.
Instructions for updating:
To construct input pipelines, use the `tf.data` module.
WARNING:tensorflow:From C:\Users\Umberto\AppData\Local\conda\conda\envs\tensorflow\lib\site-packages\tensorflow\python\training\input.py:197: add_queue_runner (from tensorflow.python.training.queue_runner_impl) is deprecated and will be removed in a future version.
Instructions for updating:
To construct input pipelines, use the `tf.data` module.
WARNING:tensorflow:From F:\code_ICCVW2019\codes\blockencoder_LD2\reader.py:49: TFRecordReader.__init__ (from tensorflow.python.ops.io_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Queue-based input pipelines have been replaced by `tf.data`. Use `tf.data.TFRecordDataset`.
WARNING:tensorflow:From F:\code_ICCVW2019\codes\blockencoder_LD2\reader.py:49: TFRecordReader.__init__ (from tensorflow.python.ops.io_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Queue-based input pipelines have been replaced by `tf.data`. Use `tf.data.TFRecordDataset`.
WARNING:tensorflow:From F:\code_ICCVW2019\codes\blockencoder_LD2\reader.py:75: shuffle_batch (from tensorflow.python.training.input) is deprecated and will be removed in a future version.
Instructions for updating:
Queue-based input pipelines have been replaced by `tf.data`. Use `tf.data.Dataset.shuffle(min_after_dequeue).batch(batch_size)`.
WARNING:tensorflow:From F:\code_ICCVW2019\codes\blockencoder_LD2\reader.py:75: shuffle_batch (from tensorflow.python.training.input) is deprecated and will be removed in a future version.
Instructions for updating:
Queue-based input pipelines have been replaced by `tf.data`. Use `tf.data.Dataset.shuffle(min_after_dequeue).batch(batch_size)`.
-----------build encoder: deeplab pre-trained-----------
after start block: (4, 81, 81, 64)
after block1: (4, 81, 81, 256)
after block2: (4, 41, 41, 512)
after block3: (4, 41, 41, 1024)
after block4: (4, 41, 41, 2048)
-----------build decoder-----------
after aspp block: (4, 41, 41, 21)
2019-08-20 22:56:56.861796: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2
2019-08-20 22:56:57.061290: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: GeForce RTX 2080 Ti major: 7 minor: 5 memoryClockRate(GHz): 1.755
pciBusID: 0000:01:00.0
totalMemory: 11.00GiB freeMemory: 9.03GiB
2019-08-20 22:56:57.062156: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-08-20 22:56:57.883702: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-08-20 22:56:57.884183: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-08-20 22:56:57.884472: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-08-20 22:56:57.884858: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 8708 MB memory) -> physical GPU (device: 0, name: GeForce RTX 2080 Ti, pci bus id: 0000:01:00.0, compute capability: 7.5)
INFO:tensorflow:Restoring parameters from ../../pretrained/deeplab_resnet_init.ckpt
INFO:tensorflow:Restoring parameters from ../../pretrained/deeplab_resnet_init.ckpt
WARNING:tensorflow:From train_with_distillation.py:161: start_queue_runners (from tensorflow.python.training.queue_runner_impl) is deprecated and will be removed in a future version.
Instructions for updating:
To construct input pipelines, use the `tf.data` module.
WARNING:tensorflow:From train_with_distillation.py:161: start_queue_runners (from tensorflow.python.training.queue_runner_impl) is deprecated and will be removed in a future version.
Instructions for updating:
To construct input pipelines, use the `tf.data` module.
INFO:root:Interrupted
INFO:root:-----------Step 0:-------------
2019-08-20 22:57:07.364533: W tensorflow/core/kernels/queue_base.cc:277] _1_reader_train/shuffle_batch/random_shuffle_queue: Skipping cancelled enqueue attempt with queue not closed
2019-08-20 22:57:07.365241: W tensorflow/core/kernels/queue_base.cc:277] _1_reader_train/shuffle_batch/random_shuffle_queue: Skipping cancelled enqueue attempt with queue not closed
2019-08-20 22:57:07.365834: W tensorflow/core/kernels/queue_base.cc:277] _0_reader_train/input_producer: Skipping cancelled enqueue attempt with queue not closed
2019-08-20 22:57:07.366384: W tensorflow/core/kernels/queue_base.cc:277] _1_reader_train/shuffle_batch/random_shuffle_queue: Skipping cancelled enqueue attempt with queue not closed
2019-08-20 22:57:07.366957: W tensorflow/core/kernels/queue_base.cc:277] _1_reader_train/shuffle_batch/random_shuffle_queue: Skipping cancelled enqueue attempt with queue not closed
2019-08-20 22:57:07.367600: W tensorflow/core/kernels/queue_base.cc:277] _1_reader_train/shuffle_batch/random_shuffle_queue: Skipping cancelled enqueue attempt with queue not closed
2019-08-20 22:57:07.368173: W tensorflow/core/kernels/queue_base.cc:277] _1_reader_train/shuffle_batch/random_shuffle_queue: Skipping cancelled enqueue attempt with queue not closed
2019-08-20 22:57:07.368758: W tensorflow/core/kernels/queue_base.cc:277] _1_reader_train/shuffle_batch/random_shuffle_queue: Skipping cancelled enqueue attempt with queue not closed
2019-08-20 22:57:07.369330: W tensorflow/core/kernels/queue_base.cc:277] _1_reader_train/shuffle_batch/random_shuffle_queue: Skipping cancelled enqueue attempt with queue not closed
Traceback (most recent call last):
  File "train_with_distillation.py", line 349, in <module>
    tf.app.run()
  File "C:\Users\Umberto\AppData\Local\conda\conda\envs\tensorflow\lib\site-packages\tensorflow\python\platform\app.py", line 125, in run
    _sys.exit(main(argv))
  File "train_with_distillation.py", line 345, in main
    train()
  File "train_with_distillation.py", line 293, in train
    logging.info(' Final loss: {}'.format(G_final_loss_value))
UnboundLocalError: local variable 'G_final_loss_value' referenced before assignment
^C